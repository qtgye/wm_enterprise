<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Enterprise Layer - Wattsmart</title>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="shortcut icon" type="image/icon" href="//wattsmart.ph/assets/images/favicon2.ico">	

	<link media="all" type="text/css" rel="stylesheet" href="libs/bootstrap.min.css">	
	<link media="all" type="text/css" rel="stylesheet" href="//wattsmart.ph/build/css/main.css">	
	<link media="all" type="text/css" rel="stylesheet" href="//wattsmart.ph/build/css/carousel.css">
	<link media="all" type="text/css" rel="stylesheet" href="//wattsmart.ph/build/css/animate.css">
	<link rel="stylesheet" href="libs/datepicker/css/datepicker.css">	

	<link media="all" type="text/css" rel="stylesheet" href="//wattsmart.ph/build/css/owl.carousel.css">
	<link media="all" type="text/css" rel="stylesheet" href="//wattsmart.ph/build/css/owl.transitions.css">
	<link media="all" type="text/css" rel="stylesheet" href="//wattsmart.ph/build/css/owl.theme.css">
	<link media="all" type="text/css" rel="stylesheet" href="//wattsmart.ph/build/css/live_monitoring_buttons.css">

	<link media="all" rel="stylesheet" href="css/dashboard.css">
	<link media="all" rel="stylesheet" href="css/enterprise.css">

</head>
<body>
	<div class="navbar navbar-inverse navbar-static-top" role="navigation">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="" href="//wattsmart.ph" style="max-height: 10px !important;">
					<img class="brand-logo" src="//wattsmart.ph/assets/images/wattsmart_beta.png" class="brand-logo" alt="logo"> 
				</a>

				</div>
				<div class="navbar-collapse collapse">
					<ul class="nav navbar-nav">
						<li><a href="//wattsmart.ph/about">About us</a></li>
						<li><a href="//wattsmart.ph/products">Products</a></li>
						<li><a href="//wattsmart.ph/contact">Contact Us</a></li>
					</ul>
					<ul class="nav navbar-nav navbar-right">

						<li><a href="//wattsmart.ph/dashboard">Dashboard</a></li>

						<li class="dropdown">
							<a href="#" class="dropdown-toggle" data-toggle="dropdown"> Username <span class="caret"></span></a>
							<ul class="dropdown-menu" role="menu">
								<li><a href="//wattsmart.ph/settings">Settings</a></li>
								<li><a href="//wattsmart.ph/userdata">Admin</a></li>
								<li class="divider"></li>
								<li><a href="//wattsmart.ph/logout">Logout</a></li>
							</ul>
						</li>

					</ul>
				</div>
			</div>
		</div>

		

		<div class="container-fluid enterprise">	

			<div class="col s12">
				<h1>Welcome ABC!</h1>
			</div>		

			<!-- TABLE HEADER -->
			<div id="table-header">
				<div class="table-header-content">
					<div class="col-xs-4 col-sm-3">&nbsp;</div>
					<div class="col-xs-6 col-sm-4 no-vertical-padding">
						<div class="row">
							<table class="table">
								<tbody>
									<tr>
										<td colspan="4">
											Energy consumption (kWh)
										</td>
									</tr>
									<tr class="consumption-labels">
										<td>Today</td>
										<td class="visible-md visible-lg">Daily ave.</td>
										<td>This month</td>
										<td class="visible-md visible-lg">Monthly ave.</td>
									</tr>
								</tbody>								
							</table>
							
						</div>
					</div>
					<div class="hidden-xs col-sm-4 col-md-3">
						Highest consuming appliance
					</div>
					<div class="hidden-xs hidden-sm col-xs-1">
						No. of appliances running now
					</div>
					<div class="col-xs-2 col-sm-1">
						&nbsp;
					</div>
				</div>				
			</div>
			<!-- END TABLE HEADER -->
			
			<!-- TABLE DATA -->
			<div id="table-data" class="is-loading" v-bind:class="{ 'is-loading': isLoading, 'has-data' : hasData }">
				
				<!-- data rows -->
				<div class="row" v-for="device in devicesData">
					<div class="col-xs-4 col-sm-3">
						<a href="dashboard.html">
							{{ device.area }}
						</a>
					</div>
					<div class="col-xs-3 col-sm-2 col-md-1" v-bind:class="{ 'red' : device.today > device['daily-average'], 'green' : device.today < device['daily-average'] }">
						{{ device.today }}
					</div>
					<div class="hidden-xs hidden-sm col-md-1">
						{{ device['daily-average'] }}
					</div>
					<div class="col-xs-3 col-sm-2 col-md-1" v-bind:class="{ 'red' : device.month > device['monthly-average'], 'green' : device.month < device['monthly-average'] }">
						{{ device['month'] }}
					</div>
					<div class="hidden-xs hidden-sm col-md-1">
						{{ device['monthly-average'] }}
					</div>
					<div class="hidden-xs col-xs-4 col-md-3 text-center">
						{{ device['highest-consuming'] }}
					</div>
					<div class="hidden-xs hidden-sm col-xs-1">
						{{ device.appliances }}
					</div>
					<div class="col-xs-1">
						<a href="javascript:;">More</a>
					</div>
				</div>

				<!-- alerts -->
				<div v-show="isLoading" class="alert alert-primary text-center">
					<i class="fa fa-spinner fa-pulse"></i> Fetching data...
				</div>
				<div v-show="!hasData && !isLoading && !fetchError" class="alert alert-warning text-center" style="display: none;">
					<i class="fa fa-warning"></i> No data available
				</div>
				<div v-show="fetchError" class="alert alert-danger text-center" style="display: none;">
					<i class="fa fa-warning"></i>
					Unable to fetch data. Please refresh the page.
					<p><small>If error persists, please contact customer support.</small></p>
				</div>
				
			</div>
			<!-- TABLE DATA END -->			

		</div>
		



		<!-- jQuery -->
		<script src="libs/jquery.js"></script>

		<!-- Bootstrap JS -->
		<script src="//wattsmart.ph/assets/bootstrap/js/bootstrap.min.js"></script>

		<!-- Bootstrap Datepicker JS for modal -->
		<script src="libs/datepicker/js/bootstrap-datepicker.js"></script>

		<!-- Load HighCharts JS -->
		<!-- <script src="//code.highcharts.com/highcharts.js"></script> -->
		<!-- <script src="//code.highcharts.com/modules/exporting.js"></script> -->
		<!-- <script src="//code.highcharts.com/modules/drilldown.js"></script> -->
		<script src="js/dummyData.js"></script>
		<script src="js/appliances.js"></script>
		<!-- <script src="js/history.js"></script>		 -->
		<!-- <script src="js/realtime.js"></script> -->

		<!-- date picker -->
		<script src="libs/datepicker/js/bootstrap-datepicker.js"></script>
		<script src="//wattsmart.ph/assets/datepicker/js/bootstrap-datepicker.js"></script>

		<!-- Pusher JS -->
		<script src="//wattsmart.ph/assets/js/pusher/pusher.js"></script>

		<!--OWL JS -->
		<script src="//wattsmart.ph/build/js/owl.carousel.js"></script>
		<script src="//wattsmart.ph/build/js/owl.js"></script>



		<!--
		 VUE JS
		 This is only for static presentation, should not be used on actual site
		-->
		<script src="libs/vue.min.js"></script>
		<script>
		/**
		 * VUE Components
		 * Again, this is for static presentation only
		 */
		 var devicesTable = new Vue({

		 	// -- Data
		 	data : {
		 		devicesData : [],
		 		isLoading : true,
		 		hasData : false,
		 		fetchError : false
		 	},

		 	// -- Containing Element
		 	el : '#table-data',

		 	// -- Methods
		 	methods : {

		 		fetchData : function () {
		 			this.isLoading = true;
		 			$.ajax({
		 				url : 'data/enterprise.json',
		 				dataType : 'json',
		 				success : function (data) {
		 					setTimeout(function () {
		 						this.devicesData = data;
			 					this.hasData = ( data.constructor == Array && data.length > 0 ) ? true : false;
			 					setTimeout(function () {		 						
				 					this.isLoading = false;		
			 					}.bind(this),50);
		 					}.bind(this),2000);
		 				}.bind(devicesTable),
		 				error : function (xhr) {
		 					setTimeout(function () {
			 					this.hasData = false;
			 					this.isLoading = false;
			 					this.fetchError = true;
		 					}.bind(this),2000);
		 				}.bind(devicesTable)
		 			});
		 		}

		 	}
		 });

		 devicesTable.fetchData();

		</script>


	</body>
</html>